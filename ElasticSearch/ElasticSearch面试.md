```
1.你们ES是什么版本？
7.x版本

2.你们ES有几个节点？
3个

3.ES如何部署集群，需要注意哪些配置？

配置文件里discovery.seed_hosts配置两个主机ip
第三台主机只要和已经关联的机器配置
cluster.name保持一致


4.ES如何扩容节点？有什么需要注意的？
配置文件和已经配置的主机关联
cluster.name保持一致
配置好后需要将一副本三分片改为两副本三分片

5.说说什么是倒排索引，如何实现搜索？电商搜索为什么不用MySQL？有什么缺点？
倒排索引就是将搜索请求分词，将词组加分，搜出得分高的id

mysql无法做到拆分词组的索引，使用mysql将不会走索引，会给mysql带来巨大的压力


6.你们ES都监控了哪些指标？监控命令是什么？如果使用zabbix那么触发器应该如何设置？
监控ES的集群状态
在kibana中使用 GET /_cat/nodes
在ES服务节点终端使用 curl -s 10.0.0.51:9200/_cat/node

7.ES如何判断集群是否正常？有几种颜色？含义是什么？
绿色：所有的分片都在，满足副本
黄色：所有的分片都在，不满足副本或者只有一个副本
红色：只有一个索引或者多个索引的分片不完整

8.你们ES是几副本几分片？为什么这样设置？
2副本3分片
这样做的好处是如果有一个节点挂了，那么会自动故障转移，不影响ES数据库的使用

9.ES的副本和分片如何设置？有什么限制没有？

PUT /linux2/
{
  "settings": {
    "number_of_shards": 3, 
    "number_of_replicas": 0
  }
}

 一旦索引建立后，分片就无法修改。

10.ES-head和kibana有什么区别？各自有什么优势？
ES-head图形化显示更加直观

kibana的命令更加简便

```

命令题：
1.查看当前集群状态
```
curl 10.0.0.51:9200/_cat/health
```


2.查看当前有几个索引
```
curl 10.0.0.51:9200/_cat/indices
```

3.查看当前集群有几个节点？
```
curl -s 10.0.0.51:9200/_cat/node
在kibana中使用 GET /_cat/nodes
```

4.查看集群一共有几个分片？
```
curl 10.0.0.51:9200/_cat/shards

```

思考题：
kibana现在连接的是单个ES节点，如果这一台ES坏了，kibana是不是就用不了了？如何解决？