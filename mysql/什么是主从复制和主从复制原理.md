将binlog发送到从库，从库将binlog执行一次

主从复制时为了将数据备份在不同的机器上，防止一台机器故障，没有替代的机器，解决单点故障

业务代码读写分离

在从库上做一个备份

- 首先将主库的数据复制到从库
- 从库配置好连接主库的信息
- 当从库执行完start slave;这个命令后，IO线程会读取master.info中的连接信息
- 主库拿到信息后验证连接身份信息后与主库建立连接
- 信息正确后主库创建dump线程截取binlog发送给从库的IO线程
- 从库IO线程接收后创建中继日志relay-bin,同时更新masterinfo的信息
- sql线程读取relay-log的位置点，截取relay-bin的sql语句在从库执行
- 执行完更新最新的relay-log.info

IO线程和SQL线程是独立分离的
  当问到这个为什么会知道，就说开发在使用写入数据的时候，发现从库不能备份数据，找原因找了2天，发现是在从库写入了数据
  从库是不能写入数据的，了解了主从复制的原理后，发现从库不要写数据，不然sql线程会报错，

![](attachments/Pasted%20image%2020240908154751.png)