# k8s集群监控介绍

前面我们学习了如何监控k8s里的应用，但是k8s集群自己的状态信息监控也很重要，比如说以下资源信息：

```
k8s节点的运行状态：内存，cpu，磁盘，网络等。

k8s组件的运行状态：kube-apiserver,kube-controller,kube-scheduler,coredns等。

k8s资源的运行状态：Deployment,Daemoset,Service,Ingress等。
```

对于k8s集群的监控，主要有以下几种方案：

```
cAdvisor: 监控容器内部的资源使用情况，已经集成在kubelet里了
kube-state-metrics: 监控k8s资源的使用状态，比如Deployment,Pod副本状态等
metrics-server: 监控k8s的cpu，内存，磁盘，网络等状态
```

# k8s节点监控

传统架构监控节点运行状态我们有非常成熟的zabbix可以使用，在k8s里我们可以直接使用prometheus官方的node-exporter来获取节点的各种指标，比如cpu,mem,disk,net等信息。

项目地址：

https://github.com/prometheus/node_exporter

因为是节点监控，所以我们采用DaemonSet模式，在每个节点都部署 node-exporter

